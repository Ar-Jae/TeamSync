:root{
  --muted: #6b7280;
  --bg-start: #ffffff;
  --bg-end: #fbfdff;
  --panel-bg: #ffffff;
  --accent: #0f63c4;
}

/* Fullscreen root */
.chatview-root{
  position:fixed;
  inset:0;
  width:100%;
  height:100vh;
  margin:0;
  padding:0;
  display:flex;
  background: linear-gradient(180deg,var(--bg-start),var(--bg-end));
  border-radius:0;
  overflow:hidden;
  z-index:1000;
}

.chatview-layout{
  display:flex;
  flex:1 1 auto;
  height:100%;
}

/* Narrow vertical app nav (leftmost) */
.chatview-appbar{
  width:64px;
  background: linear-gradient(180deg, #2f3b70, #2b3570);
  display:flex;
  align-items:flex-start;
  padding-top:12px;
  flex-shrink:0;
}
.chatview-appbar .appbar-icons{ display:flex; flex-direction:column; gap:8px; padding:8px }
.chatview-appbar .appbar-btn{ color:#fff }

/* Left conversation panel */
.chatview-left{
  width:320px;
  min-width:200px;
  max-width:360px;
  background: var(--panel-bg);
  border-right: 1px solid rgba(15,23,42,0.06);
  display:flex;
  flex-direction:column;
  flex-shrink:0; /* keep sidebar on the side */
  overflow-y:auto;
}

/* Collapsed sidebar: narrow strip showing avatars */
.chatview-left.collapsed{
  width:72px;
  min-width:72px;
}
.chatview-left.collapsed .chat-left-title,
.chatview-left.collapsed .chat-left-actions{
  display:none;
}
.chatview-left.collapsed .chatview-list-item{
  justify-content:center;
  padding:8px;
}
.chatview-left.collapsed .chatview-list-meta,
.chatview-left.collapsed .chatview-list-right{
  display:none;
}
.chatview-left-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 14px;
  border-bottom:1px solid rgba(15,23,42,0.04);
}
.chat-left-title{ font-weight:700; font-size:16px }
.chatview-list{ overflow-y:auto; padding:10px; flex:1 }
.chatview-list-item{ display:flex; align-items:center; gap:10px; padding:10px; border-radius:10px; cursor:pointer }
.chatview-list-item:hover{ background:rgba(15,23,42,0.03) }
.chatview-list-item.selected{ background: linear-gradient(90deg,#eef6ff,#f7fbff); border-left:4px solid var(--accent); }
.chatview-list-avatar{ width:44px !important; height:44px !important }
.chatview-list-meta{ flex:1; min-width:0 }
.chatview-list-name{ font-weight:600; font-size:14px }
.chatview-list-snippet{ font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.chatview-list-right{ display:flex; flex-direction:column; align-items:flex-end; gap:6px }
.chatview-list-time{ font-size:11px; color:var(--muted) }
.chatview-unread{ width:10px; height:10px; border-radius:50%; background:var(--accent) }
.chatview-empty-list{ padding:18px; color:var(--muted) }

/* Messages panel */
.chatview-messages{
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  overflow-y:auto;
  padding:20px 28px;
  background: linear-gradient(180deg,#f3f8ff,#eef8ff);
}

/* Topbar inside messages area */
.chatview-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 16px;
  border-bottom:1px solid rgba(15,23,42,0.04);
  background:rgba(255,255,255,0.6);
}
.chatview-participants{ display:flex; align-items:center; gap:12px }
.chatview-top-avatar{ width:40px !important; height:40px !important }
.chatview-top-meta{ display:flex; flex-direction:column }
.chatview-top-title{ font-weight:700 }
.chatview-top-sub{ font-size:13px; color:var(--muted) }
.chatview-top-actions{ display:flex; gap:8px; align-items:center }

.chatview-message{
  display:flex;
  align-items:flex-end;
  margin-bottom:14px;
  gap:12px;
  max-width:100%;
}
.chatview-message.self{ flex-direction:row-reverse }
.chatview-avatar{ width:40px !important; height:40px !important; box-shadow:0 4px 12px rgba(2,6,23,0.06) }

.chatview-bubble{
  background:#fff;
  border-radius:12px;
  padding:10px 14px;
  box-shadow:0 6px 18px rgba(2,6,23,0.05);
  max-width:64%;
  min-width:80px;
  word-break:break-word;
}
.chatview-message.self .chatview-bubble{ background:linear-gradient(180deg,var(--accent),#0b4fa0); color:#fff }

.chatview-header{ display:flex; align-items:center; gap:8px; justify-content:space-between }
.chatview-sender{ font-size:12px; font-weight:700; color:var(--accent) }
.chatview-meta{ font-size:11px; color:var(--muted) }
.chatview-text{ font-size:15px; margin-top:6px }
.chatview-reactions{ margin-top:6px; display:flex; gap:6px; font-size:14px }
.chatview-actions{ display:flex; align-items:center }

/* Input area pinned to bottom of the messages column */
.chatview-input-area{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-top:1px solid rgba(15,23,42,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
}
.chatview-attach{ display:flex; gap:6px }
.chatview-inputbar{ display:flex; align-items:center; padding:8px; background:#fff; border-radius:999px; flex:1 }
.chatview-input{ flex:1; font-size:15px; background:transparent; padding:6px 10px }

.chatview-typing{ padding:6px 12px; font-size:13px; color:var(--muted) }

@media (max-width:900px){
  /* Keep sidebar visible on smaller screens but reduce its width so it remains usable */
  .chatview-left{ display:flex; width:220px; min-width:160px }
  .chatview-messages{ padding:16px }
  .chatview-bubble{ max-width:78% }
}

